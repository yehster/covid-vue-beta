(function(t){function e(e){for(var a,s,o=e[0],c=e[1],u=e[2],l=0,f=[];l<o.length;l++)s=o[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);h&&h(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},r={app:0},i=[];function s(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"1abb58f7"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(t){var e=[],n=r[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=r[t]=[e,a]}));e.push(n[2]=a);var i,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=s(t);var u=new Error;i=function(e){c.onerror=c.onload=null,clearTimeout(l);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",u.name="ChunkLoadError",u.type=a,u.request=i,n[1](u)}r[t]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:c})}),12e4);c.onerror=c.onload=i,document.head.appendChild(c)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/covid-vue-beta/",o.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var h=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"17e9":function(t,e,n){"use strict";n("e5dd")},"2b1a":function(t,e,n){"use strict";n("4711")},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="4678"},4711:function(t,e,n){},"79f3":function(t,e,n){"use strict";n("f494")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"nav"},i=Object(a["e"])(" COVID data "),s=Object(a["e"])(" | "),o=Object(a["e"])("About"),c=Object(a["e"])(" | "),u=Object(a["e"])("Display");function l(t,e){var n=Object(a["v"])("router-link"),l=Object(a["v"])("router-view");return Object(a["o"])(),Object(a["d"])(a["a"],null,[Object(a["f"])("div",r,[Object(a["f"])(n,{to:"/"},{default:Object(a["A"])((function(){return[i]})),_:1}),s,Object(a["f"])(n,{to:"/about"},{default:Object(a["A"])((function(){return[o]})),_:1}),c,Object(a["f"])(n,{to:"/Display"},{default:Object(a["A"])((function(){return[u]})),_:1})]),Object(a["f"])(l)],64)}n("2b1a");const h={};h.render=l;var f=h,d=(n("d3b7"),n("6c02")),b=Object(a["B"])("data-v-7041b47a");Object(a["r"])("data-v-7041b47a");var g={class:"home"};Object(a["p"])();var p=b((function(t,e,n,r,i,s){var o=Object(a["v"])("CovidScatter");return Object(a["o"])(),Object(a["d"])("div",g,[Object(a["f"])("button",{onClick:e[1]||(e[1]=function(){return t.draw&&t.draw.apply(t,arguments)})},"Hello"),(Object(a["o"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(t.scatterData,(function(e,n){return Object(a["o"])(),Object(a["d"])("div",{key:n,class:"chartbox"},[Object(a["f"])(o,{ref:"test","chart-id":"test"+n,chartData:e.scatter,highlightSet:t.highlightSet,referenceLines:e.referenceLines},null,8,["chart-id","chartData","highlightSet","referenceLines"])])})),128))])})),j=(n("96cf"),n("1da1"));function m(t,e,n,r,i,s){return Object(a["o"])(),Object(a["d"])("canvas",{id:t.chartId},null,8,["id"])}n("b0c0"),n("6b93"),n("a9e3"),n("25f0");var v=n("d4ec"),y=n("30ef"),O=n("bee2"),x="https://raw.githubusercontent.com/yehster/covid-data-prelim/main/locations";function _(){return k.apply(this,arguments)}function k(){return k=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(x,{cache:"no-cache"});case 2:if(e=t.sent,e.ok){t.next=10;break}return t.next=6,fetch("http://192.168.1.200:8081/locations");case 6:return n=t.sent,t.next=9,n.json();case 9:return t.abrupt("return",t.sent);case 10:return t.next=12,e.json();case 12:return a=t.sent,t.abrupt("return",a);case 14:case"end":return t.stop()}}),t)}))),k.apply(this,arguments)}var w=function(){function t(){for(var e in Object(v["a"])(this,t),t.stateList=new Array,t.mapData){var n=t.mapData[e];n.isState&&t.stateList.push(n)}console.log("Locations Map Created")}return Object(O["a"])(t,[{key:"lookup",value:function(e){return t.mapData?t.mapData[e]:null}},{key:"stateList",value:function(){return t.stateList}}],[{key:"getInstance",value:function(){return new Promise((function(e,n){if(t.instance)e(t.instance);else if(t.loading){var a=function n(){t.instance?(console.log("wait completed"),e(t.instance)):(console.log("waiting for map"),setTimeout(n,100))};a()}else t.loading=!0,_().then((function(e){t.mapData=e,t.instance=new t}))}))}}]),t}();function D(t){var e=Math.pow(10,Math.floor(Math.log10(t))),n=Math.floor(t/e);return n*e}function M(t){var e=Math.pow(10,Math.floor(Math.log10(t)-1)),n=Math.floor(t/e+1);return n*e}function R(t,e,n){if(t>0){var a=t/Math.pow(10,Math.floor(Math.log10(t)));if(e>0&&e<n.length-2&&(9===a||8===a||7===a||6===a||5===a||3===a))return"";var r=t/Math.pow(10,Math.floor(Math.log10(t)-1));if(r%10>0)return""}return t.toString()}w.loading=!1,w.getInstance();var S=function t(e,n,a,r){Object(v["a"])(this,t),this.dash=e,this.color="rgba("+n+","+a+","+r+")"},L=[new S([5,2,2,7],20,100,20),new S([4,5,6,3],50,150,200),new S([3,7,1,5],200,100,100)],C=Object(a["g"])({name:"CovidScatter",props:{chartId:{type:String,required:!0},chartData:{},referenceLines:{},highlightSet:{}},data:function(){return{chart:{},locMap:{},domainRangeData:{domainMin:0,domainMax:0,rangeMin:0,rangeMax:0}}},methods:{getLocationID:function(t){var e=this.chartData;return e.locations[t]},lookupLocation:function(t){var e=this.locMap;return e.lookup(t)},labelFn:function(t,e){var n=t.index,a=Number(t.value),r=this.lookupLocation(this.getLocationID(n)),i=Math.round(a/r.population*1e5*10)/10;return r.name+"|"+a+"|"+i},highlightObject:function(){return this.highlightSet},contextLocation:function(t){var e=this.getLocationID(t.dataIndex),n=this.lookupLocation(e);return n},pointColor:function(t){return this.highlightObject().locationColor(this.contextLocation(t))},pointRadius:function(t){return this.highlightObject().locationRadius(this.contextLocation(t))},borderWidth:function(t){this.contextLocation(t);return 1},notify:function(){var t=this.chart;t.update()},chartOptions:function(t,e){var n={animation:{duration:0},responsive:!0,scales:{xAxes:[{type:"logarithmic",display:!0,ticks:{callback:R,min:D(this.domainRangeData.domainMin),max:M(this.domainRangeData.domainMax)},scaleLabel:{display:!0,labelString:t}}],yAxes:[{type:"logarithmic",ticks:{callback:R},scaleLabel:{display:!0,labelString:e}}]},tooltips:{callbacks:{label:this.labelFn}},hover:{animationDuration:0}};return n},domainRange:function(t){for(var e=t.data[0],n={domainMin:e.x,domainMax:e.x,rangeMin:e.y,rangeMax:e.y},a=1;a<t.data.length;a++)e=t.data[a],n.domainMin>e.x&&(n.domainMin=e.x),n.domainMax<e.x&&(n.domainMax=e.x),n.rangeMin>e.y&&(n.rangeMin=e.y),n.rangeMax<e.y&&(n.rangeMax=e.y);return this.domainRangeData.domainMin=n.domainMin,this.domainRangeData.domainMax=n.domainMax,this.domainRangeData.rangeMin=n.rangeMin,this.domainRangeData.rangeMax=n.rangeMax,n},scaleRefLine:function(t){var e,n,a=this.domainRangeData.rangeMin<1?1:this.domainRangeData.rangeMin,r=a/t,i=[];this.domainRangeData.rangeMin<=1&&r>=this.domainRangeData.domainMin?(e=r,n=a):(e=this.domainRangeData.domainMin,n=this.domainRangeData.domainMin*t),i.push({x:e,y:n});var s=this.domainRangeData.domainMax*t;return s>this.domainRangeData.rangeMax?(e=this.domainRangeData.rangeMax/t,n=this.domainRangeData.rangeMax):(e=this.domainRangeData.domainMax,n=this.domainRangeData.domainMax*t),i.push({x:e,y:n}),i},formatChartDataForChartJs:function(t,e){var n=[],a={data:t.data,pointStyle:"crossRot",pointBackgroundColor:this.pointColor,pointBorderColor:this.pointColor,pointRadius:this.pointRadius,label:t.day,pointHoverRadius:3,borderWidth:this.borderWidth};n.push(a);for(var r=0;r<e.length;r++){var i=e[r],s=new Array,o=this.scaleRefLine(i.slope),c=i.label,u=L[r%L.length],l={type:"line",data:o,labels:s,label:c,fill:!1,pointRadius:0,pointHitRadius:0,borderColor:u.color,borderDash:u.dash,borderWidth:2};n.push(l)}return n}},mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("In Scatter"),n=document.getElementById(t.chartId),a=t.chartData,t.domainRange(a),e.next=6,w.getInstance();case 6:t.locMap=e.sent,r=t.highlightSet,r.addSubscriber(t.notify),i=t.referenceLines,t.chart=new y["Chart"](n,{type:"scatter",data:{datasets:t.formatChartDataForChartJs(a,i)},options:t.chartOptions(a.xlabel,a.ylabel)});case 11:case"end":return e.stop()}}),e)})))()}});C.render=m;var z,I=C;(function(t){t[t["County"]=0]="County",t[t["State"]=1]="State",t[t["National"]=2]="National"})(z||(z={}));var A,P=function(){function t(){Object(v["a"])(this,t),this._source="file:///",this._source="http://127.0.0.1:8081/",this._backup="http://192.168.1.200:8081/",this._source="http://192.168.1.200/covidcache/",this._external="https://raw.githubusercontent.com/yehster/covid-data-prelim/main/",this._source=this._external,this._day=""}return Object(O["a"])(t,[{key:"retrData",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch(this._source+e);case 2:return n=t.sent,t.next=5,n.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"retrieveData",value:function(t){var e=this;return new Promise((function(n,a){function r(t){t.json().then((function(t){n(t)}))}fetch(e._source+t).then((function(n){n.ok?r(n):fetch(e._backup+t).then(r)}))}))}},{key:"getAsOf",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(""!==this._day){t.next=5;break}return t.next=3,this.retrieveData("as-of");case 3:e=t.sent,this._day=e;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getReferenceLines",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAsOf();case 2:return a="pop-reference-lines/"+e+"/"+n+"/"+this._day,t.next=5,this.retrieveData(a);case 5:return r=t.sent,i=r,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"getPopDataSet",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e,n){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getAsOf();case 2:return a="pop-cases/"+e+"/"+n+"/"+this._day,t.next=5,this.retrieveData(a);case 5:return r=t.sent,t.abrupt("return",{data:r.points,locations:r.locations,xlabel:r.xlabel,title:"Hello world",day:r.day,ylabel:e});case 7:case"end":return t.stop()}}),t,this)})));function e(e,n){return t.apply(this,arguments)}return e}()},{key:"getCFR",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e){var n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e===z.County?"county":"states",a=0,r="case-fatality-rates/"+a+"/"+this._day+"/"+n,t.next=5,this.retrieveData(r);case 5:return i=t.sent,t.abrupt("return",{data:i.points,locations:i.locations,xlabel:i.xlabel,title:"CFR",day:i.day,ylabel:"deaths"});case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getTimeSeries",value:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e,n,a,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return","TODO data");case 1:case"end":return t.stop()}}),t)})));function e(e,n,a,r){return t.apply(this,arguments)}return e}()}],[{key:"getInstance",value:function(){return t.instance||(t.instance=new t),t.instance}}]),t}();(function(t){t[t["none"]=0]="none",t[t["state"]=1]="state",t[t["county"]=2]="county",t[t["hover"]=3]="hover"})(A||(A={}));var N=[16220,5787789,12341392,16737121,16754176];function H(t){var e=t%256,n=(t>>8)%256,a=(t>>16)%256;return"rgb("+a+","+n+","+e+")"}var G=12500670,T=H(G),F=function(){function t(e){Object(v["a"])(this,t),this._lastColor=0,this._stateHighlight=15,this._locationHighlight=0,this._subscribers=new Array,this._stateGroup={},this._debounceTimer=null,this._locations=e,this._stateColorMap=this.initColorMap()}return Object(O["a"])(t,[{key:"initColorMap",value:function(){for(var t={},e=0;e<this._locations.stateList().length;e++){var n=this._locations.stateList()[e],a=n.popRank%N.length;t[n.state]=H(N[a])}return t}},{key:"locationColor",value:function(t){return this._locationHighlight===t.id?"rgba(30,230,30)":"undefined"===typeof this._stateGroup[t.state]?"rgba(190,190,190)":this._stateGroup[t.state].colorString}},{key:"addSubscriber",value:function(t){this._subscribers.push(t)}},{key:"_notifySubscribers",value:function(t,e){for(var n=0;n<t.length;n++)t[n]!==e&&t[n]();e()}},{key:"locationRadius",value:function(t){if(this._locationHighlight===t.id)return 6;var e=this.isFocused(t);return e===A.state?5:t.isState?3:1}},{key:"_clearThrottle",value:function(){console.log("Clear throttle"),console.log(t._lastNotify),t._lastNotify=null,console.log(t._lastNotify)}},{key:"_throttleNotify",value:function(e){null===t._lastNotify?(t._lastNotify=e,this._notifySubscribers(this._subscribers,e),setTimeout(this._clearThrottle,200)):console.log(t._lastNotify)}},{key:"isFocused",value:function(t){return"undefined"!==typeof this._stateGroup[t.state]?A.state:A.none}},{key:"handleHover",value:function(t,e){t.id===this._locationHighlight&&t.state===this._stateHighlight||(t.id===t.state?this._stateHighlight=t.state:this._locationHighlight=t.id,this._throttleNotify(e))}},{key:"toggleLoc",value:function(t,e){"undefined"!==typeof this._stateGroup[t.state]?delete this._stateGroup[t.state]:(this._stateGroup[t.state]={rgb:N[this._lastColor],colorString:H(N[this._lastColor])},this._lastColor=(this._lastColor+1)%N.length),this._throttleNotify(e)}},{key:"stateList",value:function(){for(var t=[],e=this._locations.stateList(),n=0;n<e.length;n++){var a=e[n],r="undefined"!==typeof this._stateGroup[a.state]?this._stateGroup[a.state]:{rgb:G,colorString:T};t.push({location:a,highlight:r})}return t}}]),t}();F._lastNotify=null;var W=Object(a["g"])({name:"Display",components:{CovidScatter:I},data:function(){return{scatterData:new Array,highlightSet:{}}},methods:{draw:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r,i,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.getInstance();case 2:return e=t.sent,this.highlightSet=new F(e),n=P.getInstance(),t.next=7,n.getAsOf();case 7:return t.next=9,n.getPopDataSet("deaths","_delta_ma_7");case 9:return a=t.sent,t.next=12,n.getReferenceLines("deaths","_delta_ma_7");case 12:return r=t.sent,i={scatter:a,referenceLines:r},this.scatterData.push(i),t.next=17,n.getPopDataSet("confirmed","_delta_ma_7");case 17:return a=t.sent,t.next=20,n.getReferenceLines("confirmed","_delta_ma_7");case 20:return r=t.sent,s={scatter:a,referenceLines:r},this.scatterData.push(s),t.next=25,n.getPopDataSet("confirmed_states","total");case 25:return a=t.sent,t.next=28,n.getReferenceLines("confirmed_states","total");case 28:return r=t.sent,o={scatter:a,referenceLines:r},this.scatterData.push(o),t.next=33,n.getPopDataSet("confirmed","total");case 33:return a=t.sent,t.next=36,n.getReferenceLines("confirmed","total");case 36:r=t.sent,c={scatter:a,referenceLines:r},this.scatterData.push(c);case 39:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return","nop");case 1:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){this.draw()}});n("17e9");W.render=p,W.__scopeId="data-v-7041b47a";var E=W,B=Object(a["B"])("data-v-838d8032");Object(a["r"])("data-v-838d8032");var q={class:"home"},J={id:"left"},U={id:"right"};Object(a["p"])();var V=B((function(t,e,n,r,i,s){var o=Object(a["v"])("StatsDisplay"),c=Object(a["v"])("CovidScatter");return Object(a["o"])(),Object(a["d"])("div",q,[Object(a["f"])("div",J,[Object(a["f"])("button",{onClick:e[1]||(e[1]=function(){return t.changeGraphWidth&&t.changeGraphWidth.apply(t,arguments)})},Object(a["x"])(t.graphCols),1),Object(a["f"])(o,{highlightSet:t.highlightSet,style:t.graphStyles},null,8,["highlightSet","style"])]),Object(a["f"])("div",U,[(Object(a["o"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(t.scatterData,(function(e,n){return Object(a["o"])(),Object(a["d"])("div",{key:n,class:"chartbox",style:t.graphStyles},[Object(a["f"])(c,{ref:"test","chart-id":"test"+n,chartData:e.scatter,highlightSet:t.highlightSet,referenceLines:e.referenceLines},null,8,["chart-id","chartData","highlightSet","referenceLines"])],4)})),128))])])}));function $(t,e,n,r,i,s){return Object(a["o"])(),Object(a["d"])("table",null,[Object(a["f"])("tbody",null,[(Object(a["o"])(!0),Object(a["d"])(a["a"],null,Object(a["u"])(t.highlightList(),(function(e,n){return Object(a["o"])(),Object(a["d"])("tr",{key:n},[Object(a["f"])("td",{style:t.itemStyle(e),onClick:function(n){return t.toggle(e)}},[Object(a["f"])("b",null,Object(a["x"])(e.location.name),1)],12,["onClick"])])})),128))])])}var K=Object(a["g"])({name:"StatsDisplay",props:{highlightSet:{},locMap:{}},computed:{displayList:function(){return this.highlightList()}},methods:{itemStyle:function(t){return console.log(t.highlight),{color:t.highlight.colorString}},locations:function(){var t=this.locMap;return t},highlightList:function(){var t=this.highlightSet;return void 0!==t.stateList?t.stateList():[]},toggle:function(t){var e=this.highlightSet;e.toggleLoc(t.location,this.notify)},notify:function(){console.log("notify"),this.$forceUpdate()},mounted:function(){var t=this;return Object(j["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.highlightSet,n.addSubscriber(t.notify);case 2:case"end":return e.stop()}}),e)})))()}}});K.render=$;var Q=K;Array();var X=Object(a["g"])({name:"Multi",components:{CovidScatter:I,StatsDisplay:Q},data:function(){return{scatterData:new Array,highlightSet:{},locationsMap:{},graphCols:2}},computed:{graphStyles:function(){return{"--graph-width":Math.floor(100/this.graphCols)+"%"}}},methods:{changeGraphWidth:function(){this.graphCols++,this.graphCols>3&&(this.graphCols=1)},draw:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(){var e,n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,w.getInstance();case 2:e=t.sent,this.locationsMap=e,this.highlightSet=new F(e),n=[{event:"confirmed_states",series:"_delta_ma_7"},{event:"confirmed",series:"_delta_ma_7"},{event:"confirmed_states",series:"total"},{event:"confirmed",series:"total"},{event:"deaths_states",series:"total"},{event:"deaths",series:"total"},{event:"cfr",series:"state"},{event:"cfr",series:"county"}],a=0;case 7:if(!(a<n.length)){t.next=16;break}return t.next=10,this.getData(n[a].event,n[a].series);case 10:r=t.sent,console.log(r),this.scatterData.push(r);case 13:a++,t.next=7;break;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getData:function(){var t=Object(j["a"])(regeneratorRuntime.mark((function t(e,n){var a,r,i,s,o,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=P.getInstance(),"cfr"!==e){t.next=12;break}return r="county"===n?z.County:z.State,t.next=5,a.getCFR(r);case 5:return i=t.sent,t.next=8,a.getReferenceLines("cfr_"+n,"_total");case 8:return s=t.sent,t.abrupt("return",{scatter:i,referenceLines:s});case 12:return t.next=14,a.getPopDataSet(e,n);case 14:return o=t.sent,t.next=17,a.getReferenceLines(e,n);case 17:return c=t.sent,t.abrupt("return",{scatter:o,referenceLines:c});case 19:case"end":return t.stop()}}),t)})));function e(e,n){return t.apply(this,arguments)}return e}()},mounted:function(){this.draw()}});n("79f3");X.render=V,X.__scopeId="data-v-838d8032";var Y=X,Z=[{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/Display",name:"Display",component:E},{path:"/",name:"Multi",component:Y}],tt=Object(d["a"])({history:Object(d["b"])("/covid-vue-beta/"),routes:Z}),et=tt,nt=n("5502"),at=Object(nt["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(f).use(at).use(et).mount("#app")},e5dd:function(t,e,n){},f494:function(t,e,n){}});
//# sourceMappingURL=app.0f9077ec.js.map